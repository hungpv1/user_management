import{c as F,L as V}from"./ListUser-c0dfdc5b.js";import{c as I,a as m,F as S,b as U,E as M}from"./index.esm-0e5de78c.js";import{d as k,g,m as E,r as p,o as h,c as v,e as a,w,b as s,t as d,F as L,i as T,p as A,f as B,q as D,l as O,n as N,k as R,j}from"./index-6b536bd7.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const z=k({setup(e,{emit:n}){const c=g("/images/blank-ava.png"),u=g(""),{t:o}=E(),b=["vip","active","tpin"],r=t=>{const i=t.target.files[0];if(i){const $=new FileReader;$.onload=_=>{var C,y;c.value=(C=_==null?void 0:_.target)==null?void 0:C.result,u.value=(y=_==null?void 0:_.target)==null?void 0:y.result},$.readAsDataURL(i)}},l=I().shape({username:m().required(o("validate.required",{field:o("trans.user_name")})),name:m().required(o("validate.required",{field:o("trans.name")})),email:m().required(o("validate.required",{field:o("trans.email")})),phoneNumber:m().required(o("validate.required",{field:o("trans.phone_number")})),password:m().required(o("validate.required",{field:o("trans.password")})),socialNumber:m().required(o("validate.required",{field:o("trans.social_number")})),address:m().required(o("validate.required",{field:o("trans.address")}))});function f(t){const i={name:t.name,address:t.address,email:t.email,password:t.password,phoneNumber:t.phoneNumber,socialNumber:t.socialNumber,tags:t.tags,username:t.username,avatar:u.value};F(i).then($=>{n("userCreated"),c.value="/images/blank-ava.png"})}return{handleImageChange:r,avatar:c,schema:l,onSubmit:f,tagOptions:b}},components:{Field:S,VeeForm:U,ErrorMessage:M}});const G=e=>(A("data-v-e87dfb65"),e=e(),B(),e),H={class:"container"},J={class:"mb-3"},K={class:"avatar-wrapper"},P=["src"],Q=G(()=>s("label",{for:"avatar",class:"upload-button"},null,-1)),W={class:"mb-3 row"},X={class:"col-md-6 form-group"},Y={for:"username"},Z={class:"col-md-6 form-group"},x={for:"name"},ee={class:"mb-3 row"},se={class:"col-md-6 form-group"},ae={for:"email"},oe={class:"col-md-6 form-group"},te={for:"password"},ne={class:"mb-3 row"},re={class:"col-md-6 form-group"},le={for:"phoneNumber"},ie={class:"col-md-6 form-group"},de={for:"socialNumber"},ce={class:"mb-3 row"},me={class:"col-12 form-group"},pe={for:"address"},ue={class:"mb-3 row"},_e={class:"col-12"},be={class:"form-check-label",for:"{{index}}"},fe={type:"submit",class:"btn btn-primary"};function he(e,n,c,u,o,b){const r=p("Field"),l=p("ErrorMessage"),f=p("VeeForm");return h(),v("div",H,[a(f,{"validation-schema":e.schema,onSubmit:e.onSubmit},{default:w(()=>[s("div",J,[s("div",K,[s("img",{class:"profile-pic",src:e.avatar},null,8,P),Q,a(r,{class:"file-upload",name:"image",id:"avatar",type:"file",accept:"image/*",onChange:e.handleImageChange},null,8,["onChange"]),a(l,{name:"avatar"})])]),s("div",W,[s("div",X,[s("label",Y,d(e.$t("trans.user_name")),1),a(r,{type:"text",class:"form-control",name:"username",id:"username",placeholder:e.$t("trans.user_name")},null,8,["placeholder"]),a(l,{name:"username"})]),s("div",Z,[s("label",x,d(e.$t("trans.name")),1),a(r,{type:"text",class:"form-control",name:"name",id:"name",placeholder:e.$t("trans.name")},null,8,["placeholder"]),a(l,{name:"name"})])]),s("div",ee,[s("div",se,[s("label",ae,d(e.$t("trans.email")),1),a(r,{type:"text",class:"form-control",name:"email",id:"email",placeholder:e.$t("trans.email")},null,8,["placeholder"]),a(l,{name:"email"})]),s("div",oe,[s("label",te,d(e.$t("trans.password")),1),a(r,{type:"password",class:"form-control",name:"password",id:"password",placeholder:e.$t("trans.password")},null,8,["placeholder"]),a(l,{name:"password"})])]),s("div",ne,[s("div",re,[s("label",le,d(e.$t("trans.phone_number")),1),a(r,{type:"text",class:"form-control",name:"phoneNumber",id:"phoneNumber",placeholder:e.$t("trans.phone_number")},null,8,["placeholder"]),a(l,{name:"phoneNumber"})]),s("div",ie,[s("label",de,d(e.$t("trans.social_number")),1),a(r,{type:"text",class:"form-control",name:"socialNumber",id:"socialNumber",placeholder:e.$t("trans.social_number")},null,8,["placeholder"]),a(l,{name:"socialNumber"})])]),s("div",ce,[s("div",me,[s("label",pe,d(e.$t("trans.address")),1),a(r,{type:"text",class:"form-control",name:"address",id:"address",placeholder:e.$t("trans.address")},null,8,["placeholder"]),a(l,{name:"address"})])]),s("div",ue,[s("div",_e,[(h(!0),v(L,null,T(e.tagOptions,(t,i)=>(h(),v("div",{class:"form-check form-check-inline",key:i},[s("label",be,d(t),1),a(r,{class:"form-check-input",type:"checkbox",id:t,name:"tags",value:t},null,8,["id","value"])]))),128))])]),s("button",fe,d(e.$t("trans.create")),1)]),_:1},8,["validation-schema","onSubmit"])])}const ve=q(z,[["render",he],["__scopeId","data-v-e87dfb65"]]);function ge(e){D.success({message:e,duration:3})}const $e=k({setup(){const e=g("clientList"),n=g(!1);function c(b){e.value=b}function u(){n.value=!0}function o(){n.value=!1,ge("User created success!")}return{activeTab:e,modalVisible:n,tabActive:c,showModal:u,reloadList:o}},components:{ListUser:V,ClientCreateForm:ve}});const we={class:"content-head"},Ce={class:"create-new"},ye={class:"table-tab"},Ne={class:"content-table"};function ke(e,n,c,u,o,b){const r=p("font-awesome-icon"),l=p("ClientCreateForm"),f=p("a-modal"),t=p("ListUser");return h(),v(L,null,[s("div",we,[s("div",Ce,[s("button",{class:"btn btn-primary p-3",onClick:n[0]||(n[0]=(...i)=>e.showModal&&e.showModal(...i))},[O(d(e.$t("trans.new_customer"))+" ",1),a(r,{icon:["fas","plus"]})])]),s("div",ye,[s("div",{class:N(["tab",{active:e.activeTab=="clientList"}]),onClick:n[1]||(n[1]=i=>e.tabActive("clientList"))},d(e.$t("trans.customer_list")),3),s("div",{class:N(["tab",{active:e.activeTab=="noteList"}]),onClick:n[2]||(n[2]=i=>e.tabActive("noteList"))},d(e.$t("trans.note_list")),3)])]),a(f,{destroyOnClose:!0,open:e.modalVisible,"onUpdate:open":n[3]||(n[3]=i=>e.modalVisible=i)},{footer:w(()=>[]),default:w(()=>[a(l,{onUserCreated:e.reloadList},null,8,["onUserCreated"])]),_:1},8,["open"]),s("div",Ne,[e.activeTab=="clientList"?(h(),R(t,{key:0})):j("",!0)])],64)}const Ie=q($e,[["render",ke],["__scopeId","data-v-0b70796a"]]);export{Ie as default};
