import{c as F,L as V}from"./ListUser-2e9a7c2d.js";import{c as I,a as m,F as S,b as U,E as M}from"./index.esm-7065a6ad.js";import{d as k,g as $,m as E,r as p,o as f,c as v,e as a,w,b as s,t as d,F as L,i as T,p as A,f as B,q as D,l as O,n as N,k as R,j}from"./index-41c6b115.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const z=k({setup(e,{emit:t}){const c=$("/images/blank-ava.png"),u=$(""),{t:o}=E(),h=["vip","active","tpin"],l=n=>{const r=n.target.files[0];if(r){const g=new FileReader;g.onload=_=>{var C,y;c.value=(C=_==null?void 0:_.target)==null?void 0:C.result,u.value=(y=_==null?void 0:_.target)==null?void 0:y.result},g.readAsDataURL(r)}},i=I().shape({username:m().required(o("validate.required",{field:o("trans.user_name")})),name:m().required(o("validate.required",{field:o("trans.name")})),email:m().required(o("validate.required",{field:o("trans.email")})),phoneNumber:m().required(o("validate.required",{field:o("trans.phone_number")})),password:m().required(o("validate.required",{field:o("trans.password")})),socialNumber:m().required(o("validate.required",{field:o("trans.social_number")})),address:m().required(o("validate.required",{field:o("trans.address")}))});function b(n){const r={name:n.name,address:n.address,email:n.email,password:n.password,phoneNumber:n.phoneNumber,socialNumber:n.socialNumber,tags:n.tags,username:n.username,avatar:u.value};F(r).then(g=>{t("userCreated"),c.value="/images/blank-ava.png"})}return{handleImageChange:l,avatar:c,schema:i,onSubmit:b,tagOptions:h}},components:{Field:S,VeeForm:U,ErrorMessage:M}});const G=e=>(A("data-v-21ae4ad4"),e=e(),B(),e),H={class:"container"},J={class:"mb-3"},K={class:"avatar-wrapper"},P=["src"],Q=G(()=>s("label",{for:"avatar",class:"upload-button"},null,-1)),W={class:"mb-3 row"},X={class:"col-md-6 form-group"},Y={for:"username"},Z={class:"col-md-6 form-group"},x={for:"name"},ee={class:"mb-3 row"},se={class:"col-md-6 form-group"},ae={for:"email"},oe={class:"col-md-6 form-group"},te={for:"password"},ne={class:"mb-3 row"},re={class:"col-md-6 form-group"},le={for:"phoneNumber"},ie={class:"col-md-6 form-group"},de={for:"socialNumber"},ce={class:"mb-3 row"},me={class:"col-12 form-group"},pe={for:"address"},ue={class:"mb-3 row"},_e={class:"col-12"},he=["for"],be={type:"submit",class:"btn btn-primary"};function fe(e,t,c,u,o,h){const l=p("Field"),i=p("ErrorMessage"),b=p("VeeForm");return f(),v("div",H,[a(b,{"validation-schema":e.schema,onSubmit:e.onSubmit},{default:w(()=>[s("div",J,[s("div",K,[s("img",{class:"profile-pic",src:e.avatar},null,8,P),Q,a(l,{class:"file-upload",name:"image",id:"avatar",type:"file",accept:"image/*",onChange:e.handleImageChange},null,8,["onChange"]),a(i,{name:"avatar"})])]),s("div",W,[s("div",X,[s("label",Y,d(e.$t("trans.user_name")),1),a(l,{type:"text",class:"form-control",name:"username",id:"username",placeholder:e.$t("trans.user_name")},null,8,["placeholder"]),a(i,{name:"username"})]),s("div",Z,[s("label",x,d(e.$t("trans.name")),1),a(l,{type:"text",class:"form-control",name:"name",id:"name",placeholder:e.$t("trans.name")},null,8,["placeholder"]),a(i,{name:"name"})])]),s("div",ee,[s("div",se,[s("label",ae,d(e.$t("trans.email")),1),a(l,{type:"text",class:"form-control",name:"email",id:"email",placeholder:e.$t("trans.email")},null,8,["placeholder"]),a(i,{name:"email"})]),s("div",oe,[s("label",te,d(e.$t("trans.password")),1),a(l,{type:"password",class:"form-control",name:"password",id:"password",placeholder:e.$t("trans.password")},null,8,["placeholder"]),a(i,{name:"password"})])]),s("div",ne,[s("div",re,[s("label",le,d(e.$t("trans.phone_number")),1),a(l,{type:"text",class:"form-control",name:"phoneNumber",id:"phoneNumber",placeholder:e.$t("trans.phone_number")},null,8,["placeholder"]),a(i,{name:"phoneNumber"})]),s("div",ie,[s("label",de,d(e.$t("trans.social_number")),1),a(l,{type:"text",class:"form-control",name:"socialNumber",id:"socialNumber",placeholder:e.$t("trans.social_number")},null,8,["placeholder"]),a(i,{name:"socialNumber"})])]),s("div",ce,[s("div",me,[s("label",pe,d(e.$t("trans.address")),1),a(l,{type:"text",class:"form-control",name:"address",id:"address",placeholder:e.$t("trans.address")},null,8,["placeholder"]),a(i,{name:"address"})])]),s("div",ue,[s("div",_e,[(f(!0),v(L,null,T(e.tagOptions,(n,r)=>(f(),v("div",{class:"form-check form-check-inline",key:r},[s("label",{class:"form-check-label",for:`${r}`},d(n),9,he),a(l,{class:"form-check-input",type:"checkbox",id:`${r}`,name:"tags",value:n},null,8,["id","value"])]))),128))])]),s("button",be,d(e.$t("trans.create")),1)]),_:1},8,["validation-schema","onSubmit"])])}const ve=q(z,[["render",fe],["__scopeId","data-v-21ae4ad4"]]);function $e(e){D.success({message:e,duration:3})}const ge=k({setup(){const e=$("clientList"),t=$(!1);function c(h){e.value=h}function u(){t.value=!0}function o(){t.value=!1,$e("User created success!")}return{activeTab:e,modalVisible:t,tabActive:c,showModal:u,reloadList:o}},components:{ListUser:V,ClientCreateForm:ve}});const we={class:"content-head"},Ce={class:"create-new"},ye={class:"table-tab"},Ne={class:"content-table"};function ke(e,t,c,u,o,h){const l=p("font-awesome-icon"),i=p("ClientCreateForm"),b=p("a-modal"),n=p("ListUser");return f(),v(L,null,[s("div",we,[s("div",Ce,[s("button",{class:"btn btn-primary p-3",onClick:t[0]||(t[0]=(...r)=>e.showModal&&e.showModal(...r))},[O(d(e.$t("trans.new_customer"))+" ",1),a(l,{icon:["fas","plus"]})])]),s("div",ye,[s("div",{class:N(["tab",{active:e.activeTab=="clientList"}]),onClick:t[1]||(t[1]=r=>e.tabActive("clientList"))},d(e.$t("trans.customer_list")),3),s("div",{class:N(["tab",{active:e.activeTab=="noteList"}]),onClick:t[2]||(t[2]=r=>e.tabActive("noteList"))},d(e.$t("trans.note_list")),3)])]),a(b,{destroyOnClose:!0,open:e.modalVisible,"onUpdate:open":t[3]||(t[3]=r=>e.modalVisible=r)},{footer:w(()=>[]),default:w(()=>[a(i,{onUserCreated:e.reloadList},null,8,["onUserCreated"])]),_:1},8,["open"]),s("div",Ne,[e.activeTab=="clientList"?(f(),R(n,{key:0})):j("",!0)])],64)}const Ie=q(ge,[["render",ke],["__scopeId","data-v-0b70796a"]]);export{Ie as default};
